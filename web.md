# Webの知識についてまとめます

## プロトコル
コンピューター同士が通信する際の手順や規約などの約束事。ネットワークでコンピューターが使う言語のようなもので、双方が理解できる同じプロトコルでなければ通信は成立しない。

## ステータスコード
クライアント側からサーバに送ったリクエストの結果 = レスポンスを数字で表現したもの。<br>
200..正常な通信
400番台...リクエストが不正
500番台...サーバー側の問題

## WebAPIについて
APIとは「Application Programming Interface」の略のことで、どのアプリケーションでも共通で使える機能を提供する仕組みのこと。<br>
WebAPIとは、ネットワーク越しに利用できる関数。URLが関数名で引数を渡す事で結果が変化する。<br>
WebAPIではRubyなどのプログラミング言語によりWebサーバーに対してリクエストする。リクエストを受け取ったWebサーバはAPIを使ってクライアントへデータを返す。データを返す際はJSON形式が多い。
```
- サーバーで用意している関数(機能)をhttpで通信して利用する事。
- 利用するには決め事を守ってリクエストを出す。
- 決まり事とはURLとか渡すデータの名前とかデータの形式とか。
- レスポンスは大体何かしらのデータ。時々画像も。
- データの形式は最近はJSON。一昔前はXMLが主流だった。
- ajax形式で利用される事が多い
```
## JSON
JSONとはデータを簡単に表現する仕組み。HTMLを。ざっくり言うと簡単にした感じ<br>
JSON定義のポイント
- keyとvalueがセットになっている
- valueの種類には文字列、数値、配列、連想配列(オブジェクト)がある
- 文字列
- シングルクォート(')かダブルクォート(”)で囲む
- 数字
- そのまま打ち込む。(何かで囲む必要は無い)
- 配列
- []で囲む
- keyが数字で省略できる。というか省略する。
- 利用する時には0から始まる
- 連想配列(オブジェクト)
- {}で囲む
- keyが文字
- keyとvalueの区切りはコロン(:)
- 配列、連想配列(オブジェクト)共通
- key,valuセットの区切りはカンマ(,)
- カンマ最後に付けるとエラーになる

```js
JSONのサンプル
var data = {
    name : 'kobayashi',
    age : 24,
    schols : [
        '千葉小学校',
        '神奈川中学校',
        '東京高校'
        ]
};
```

## セッション
セッションとはアクセスの開始から終了までの一連の通信のことである。サイトにアクセスしてから一定時間経過することで、通信が終了するが、これを1セッションという。
例えば、あるWebサイトにアクセスして、そのサイト内で3ページ閲覧して離脱したとする。これは一連の通信の中で行われたので、1セッションとなる。また、途中で離脱はしなかったものの、一定時間経過してからアクセスを再開すると、2セッション目に突入する。基本的にはセッションは30分経過することで通信終了とみなされる。<br>
また、30分という数字はデフォルトの期間であり、任意に設定することが可能である。

## Cookie
- WebサイトからPCの中に保存される情報のこと.
- メリット... IDとPWを入力してログインしたサイトにしばらくしてからもすんなりアクセスできるのは、ログイン情報が保存されたCookieの恩恵である
- 使用目的
  - ユーザー情報を取得し、ユーザーごとに適した広告配信を行う
  - Webサイトでユーザー情報を保存し、利便性を向上させるため

## 構造化データ
HTMLで書かれた情報を検索エンジンに理解しやすいようにタグつけしたもの。<br>


## セキュリティ<br>
### CSRF
正しいセッションを経由したユーザーに、投稿、削除、購入、退会などのコマンドを実行するURLへ誘導し、ユーザーが意図しない処理を実行させる攻撃。リクエスト強要とも呼ばれる。
- 実行トリガー...不正なWebサイトへのアクセス
- 実行場所 ... Webサーバ
-  実行可能な処理 ... 予め攻撃者が定義した処理
- 実行の前提 ... CSRF脆弱性を持つWebアプリケーションに対してログイン済みであること
- 実際の攻撃例...Twitterなでにおける不正な投稿(爆破予告など)
- 脆弱性
  - セッションの追跡をcookieだけで行っている場合
  - 認証機能をBasic認証のみで行っている場合
