# VPCについてまとめます
VPCとはAWS内部のネットワーク環境であり、セキュリティ面の設定も含まれる。AWSアカウントを作成した時にデフォルトでデフォルトVPCが作成されるが、通常は使わず、個別で作成する。

## 知識の整理
- マルチVPC…１つのアカウントで複数のVPCを持つこと（中規模向け）
- マルチアカウント…複数の子アカウントを持つこと（大規模むけ）
- AZ…アベイラビリティーゾーン（データセンターのこと）
- リージョン
  - AZを束ねた地域のこと（国のこと）
  - 東京リージョンはAZを３つ持っている
- エッジロケーション…情報をキャッシュする拠点（クラウドフロントで使用）
- ルートテーブル
  - サブネットに関連ずけて使用。
  - サブネットからどこに向けて発信するか決めるルール
  - 最も明確なルールが優先されて適用される
- インターネットゲートウェイ
  - VPC内のAWSリソースとインターネットを繋げる
  - 自動でスケールし、可用性が高い
- ルートテーブルにインターネットゲーウェイに向けた設定をして使用する
- NATゲートウェイ
  - プライベートサブネットからのインターネット接続を可能とする
  - アウトバウンド（発信）はできるが、インバウンド（受信）はできない
- ENI
  - Pアドレスを割り当てて、インスタンスにアタッチ/デタッチする
  - インターネットゲーウェイト接続している
  - ネットワークのセグメントを分ける場合に使う
- PubicIPアドレス
  - AWSのIPアドレスプールより割り当てられる
- ElasticIPアドレス
  - インスタンスにアタッチ/デタッチ可能で静的なIPアドレス
  - インスタンスが停止しても同一アドレス
  - インスタンスにアタッチしていない場合料金が発生する
- サブネットはAZを跨って作成することはできない
- VPCのアドレスレンジ帯は/16〜/28の範囲内で作る
- パブリックサブネット
  - インターネット接続化
  - インターネットゲートウェイへのルーティング有
- プライベートサブネット
  - ルートテーブルにルーティング無し
 <br>

### IPアドレス(サブネット)の基礎(CIDER表記)
```
10/21/**/***/24の場合(*は任意の数字)
サブネットが/24で割り振れるIPの数は256個
1減る毎に割り振れるIPは倍になっていく
23だとIPが512個 、22だとIPが1024個 21だとIPが2048個
つまり
21（2048）の中に /24（256）が8個作れる事になる
（2048を256で割ると8） 10.0.（0）.0/24＝256
```
